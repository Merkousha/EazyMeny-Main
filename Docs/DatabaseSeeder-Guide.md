# ๐ฑ Database Seeder - ุฑุงูููุง ุงุณุชูุงุฏู

## ๐ ุฏุงุฏูโูุง Seed ุดุฏู

Seeder ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุฑ ูุญุท Development ุงุฌุฑุง ูโุดูุฏ ู ุฏุงุฏูโูุง ุฒุฑ ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ:

### ๐ฅ ฺฉุงุฑุจุฑุงู (3 ููุฑ)

| ููุด | ุงูู | ุฑูุฒ ุนุจูุฑ | ุชูุถุญุงุช |
|-----|-------|----------|---------|
| **Admin** | `admin@eazymenu.ir` | `Admin@123` | ุฏุณุชุฑุณ ฺฉุงูู ุจู ูพูู ูุฏุฑุช |
| **RestaurantOwner** | `owner@restaurant.com` | `Owner@123` | ุตุงุญุจ 3 ุฑุณุชูุฑุงู |
| **Customer** | `customer@test.com` | `Customer@123` | ูุดุชุฑ ุนุงุฏ |

### ๐ช ุฑุณุชูุฑุงูโูุง (3 ุนุฏุฏ)

1. **ุฑุณุชูุฑุงู ุฒุชูู** (`zeitoon`)
   - ุบุฐุงูุง ุงุฑุงู ู ุจูโุงูููู
   - ุณูุงุฑุด ุขููุงู โ
   - ุฑุฒุฑู ูุฒ โ
   - ูุฒูู ุงุฑุณุงู: 25,000 ุชููุงู
   - ุญุฏุงูู ุณูุงุฑุด: 50,000 ุชููุงู

2. **ูุณุชโููุฏ ุจุฑฺฏุฑ ุงุณุชุงุฑ** (`burger-star`)
   - ุจุฑฺฏุฑ ู ูุณุชโููุฏ
   - ุณูุงุฑุด ุขููุงู โ
   - ุฑุฒุฑู ูุฒ โ
   - ูุฒูู ุงุฑุณุงู: 20,000 ุชููุงู
   - ุญุฏุงูู ุณูุงุฑุด: 40,000 ุชููุงู

3. **ฺฉุงููโุฑุณุชูุฑุงู ููููุฑ** (`niloofar-cafe`)
   - ฺฉุงูโุดุงูพ ู ุฏุณุฑ
   - ุณูุงุฑุด ุขููุงู โ
   - ุฑุฒุฑู ูุฒ โ
   - ูุฒูู ุงุฑุณุงู: 30,000 ุชููุงู
   - ุญุฏุงูู ุณูุงุฑุด: 60,000 ุชููุงู

### ๐ ุฏุณุชูโุจูุฏโูุง (8 ุนุฏุฏ)

**ุฑุณุชูุฑุงู ุฒุชูู:**
- ุบุฐุงูุง ุงุฑุงู
- ูพุดโุบุฐุง
- ููุดุฏู

**ุจุฑฺฏุฑ ุงุณุชุงุฑ:**
- ุจุฑฺฏุฑ
- ูพุชุฒุง
- ุณุจโุฒูู

**ููููุฑ:**
- ฺฉุงูโุดุงูพ
- ุฏุณุฑ

### ๐ฝ๏ธ ูุญุตููุงุช (11 ุนุฏุฏ)

**ุฑุณุชูุฑุงู ุฒุชูู:**
- ฺููฺฉุจุงุจ ฺฉูุจุฏู - 180,000 ุชููุงู
- ฺููฺฉุจุงุจ ุจุฑฺฏ - 250,000 ุชููุงู
- ููุฑูู ุณุจุฒ - 150,000 ุชููุงู

**ุจุฑฺฏุฑ ุงุณุชุงุฑ:**
- ุจุฑฺฏุฑ ูุฎุตูุต - 120,000 ุชููุงู
- ฺุฒุจุฑฺฏุฑ - 90,000 ุชููุงู

**ฺฉุงูู ููููุฑ:**
- ฺฉุงูพูฺูู - 45,000 ุชููุงู
- ูุงุชู - 40,000 ุชููุงู

### ๐ณ ุงุดุชุฑุงฺฉ (1 ุนุฏุฏ)

- ฺฉุงุฑุจุฑ: `owner@restaurant.com`
- ูพูู: **Standard**
- ูุถุนุช: **Active** (ูุนุงู)
- ุชุงุฑุฎ ุดุฑูุน: 30 ุฑูุฒ ูพุด
- ุชุงุฑุฎ ูพุงุงู: 60 ุฑูุฒ ุขูุฏู
- ููุช: 500,000 ุชููุงู

---

## ๐ ูุญูู ุงุฌุฑุง

### ุฑูุด 1: ุงุชููุงุชฺฉ (ูพุดููุงุฏ)

Seeder ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุฑ ูุญุท Development ููฺฏุงู ุงุฌุฑุง ุจุฑูุงูู ูุนุงู ูโุดูุฏ:

```powershell
cd "d:\Git\EazyMeny-Main\src\EazyMenu.Web"
dotnet run
```

ุฎุฑูุฌ ุฏุฑ Console:
```
โ Role created: Admin
โ Role created: RestaurantOwner
โ Role created: Customer
โ Admin user created: admin@eazymenu.ir
โ Owner user created: owner@restaurant.com
โ Customer user created: customer@test.com
โ 3 restaurants seeded
โ 8 categories seeded
โ 11 products seeded
โ Subscription seeded for user
โ Database seeded successfully!
```

### ุฑูุด 2: ุฏุณุช (ุจุฑุง Production)

ุจุฑุง ุบุฑูุนุงู ฺฉุฑุฏู Seed ุงุชููุงุชฺฉุ ูุชุบุฑ ูุญุท ุฑุง ุชุบุฑ ุฏูุฏ:

```json
// appsettings.json
{
  "EnableDatabaseSeeding": false
}
```

ุง ุฏุฑ `Program.cs`:

```csharp
// Comment out this section:
/*
if (app.Environment.IsDevelopment())
{
    using (var scope = app.Services.CreateScope())
    {
        var services = scope.ServiceProvider;
        await DatabaseSeeder.SeedAsync(services);
    }
}
*/
```

---

## ๐ ูุฑูุฏ ุจู ุณุณุชู

### ูพูู Admin:
1. ูุฑุงุฌุนู ุจู: http://localhost:5125/Account/Login
2. ุงูู: `admin@eazymenu.ir`
3. ุฑูุฒ ุนุจูุฑ: `Admin@123`
4. ุจุนุฏ ุงุฒ ูุฑูุฏ: http://localhost:5125/Admin/Restaurant

### ูพูู ุตุงุญุจ ุฑุณุชูุฑุงู:
1. ูุฑุงุฌุนู ุจู: http://localhost:5125/Account/Login
2. ุงูู: `owner@restaurant.com`
3. ุฑูุฒ ุนุจูุฑ: `Owner@123`
4. ุจุนุฏ ุงุฒ ูุฑูุฏ: ูโุชูุงูุฏ 3 ุฑุณุชูุฑุงู ุฎูุฏ ุฑุง ูุฏุฑุช ฺฉูุฏ

### ุญุณุงุจ ูุดุชุฑ:
1. ูุฑุงุฌุนู ุจู: http://localhost:5125/Account/Login
2. ุงูู: `customer@test.com`
3. ุฑูุฒ ุนุจูุฑ: `Customer@123`
4. ุจุฑุง ุณูุงุฑุด ุขููุงู

---

## ๐ Reseed Database

ุงฺฏุฑ ูโุฎูุงูุฏ ุฏุชุงุจุณ ุฑุง ุงุฒ ูู Seed ฺฉูุฏ:

```powershell
# ุญุฐู ุฏุชุงุจุณ
cd "d:\Git\EazyMeny-Main\src\EazyMenu.Infrastructure"
dotnet ef database drop --startup-project ../EazyMenu.Web --force

# ุงุฌุงุฏ ูุฌุฏุฏ ู Seed
cd ../EazyMenu.Web
dotnet run
```

ุง ุงุฒ SQL Server Management Studio:
```sql
USE master;
GO
DROP DATABASE [eazy-menu];
GO
```

ุณูพุณ ุจุฑูุงูู ุฑุง Run ฺฉูุฏุ ุฏุชุงุจุณ ู ุฏุงุฏูโูุง ุฎูุฏฺฉุงุฑ ุงุฌุงุฏ ูโุดููุฏ.

---

## ๐ ูฺฉุงุช ููู

### โ ฺู ุฒูุงู Seed ุงุฌุฑุง ูโุดูุฏุ
- ููุท ุฏุฑ ูุญุท **Development**
- ููุท ุงฺฏุฑ ุฏุงุฏู ูุจู ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏ (Idempotent)
- ูุฑ ุจุงุฑ Run ุจุฑูุงูู

### โ๏ธ ูุดุฏุงุฑูุง
- **ูุฑฺฏุฒ ุฏุฑ Production ูุนุงู ูฺฉูุฏ!**
- ุฑูุฒูุง ุนุจูุฑ Seed ุดุฏู ููุท ุจุฑุง ุชุณุช ุงุณุช
- ุฏุงุฏูโูุง ูุงูุน ฺฉุงุฑุจุฑุงู ุฑุง Seed ูฺฉูุฏ

### ๐ ุงููุช
- ุฑูุฒูุง ุนุจูุฑ ุจุง Identity HashPassword ุฐุฎุฑู ูโุดููุฏ
- EmailConfirmed ู PhoneNumberConfirmed ุฑู `true` ุงุณุช
- ููู ฺฉุงุฑุจุฑุงู `IsActive = true` ุฏุงุฑูุฏ

---

## ๐๏ธ ุณูุงุฑุดโุณุงุฒ

ุจุฑุง ุงุถุงูู ฺฉุฑุฏู ุฏุงุฏูโูุง ุจุดุชุฑุ ูุงู ุฑุง ูุฑุงุด ฺฉูุฏ:

```
src/EazyMenu.Infrastructure/Data/DatabaseSeeder.cs
```

### ูุซุงู: ุงุถุงูู ฺฉุฑุฏู ุฑุณุชูุฑุงู ุฌุฏุฏ

```csharp
new Restaurant
{
    Id = Guid.NewGuid(),
    Name = "ุฑุณุชูุฑุงู ุดูุง",
    Slug = "your-restaurant",
    OwnerId = ownerId,
    // ...
}
```

---

## ๐ ุขูุงุฑ ุฏุงุฏูโูุง Seed ุดุฏู

```
๐ฅ Users:        3
๐ช Restaurants:  3
๐ Categories:   8
๐ฝ๏ธ Products:    11
๐ณ Subscriptions: 1
โโโโโโโโโโโโโโโโโโโ
๐ฆ Total:        26 records
```

---

## โ ุชุณุช Checklist

ุจุนุฏ ุงุฒ Seed ู Run:

- [ ] ูุฑูุฏ ุจุง ุญุณุงุจ Admin ูููู ุงุณุช
- [ ] ูุฑูุฏ ุจุง ุญุณุงุจ Owner ูููู ุงุณุช
- [ ] ูุณุช 3 ุฑุณุชูุฑุงู ุฏุฑ `/Admin/Restaurant` ููุงุด ุฏุงุฏู ูโุดูุฏ
- [ ] Owner ููุท ุฑุณุชูุฑุงูโูุง ุฎูุฏุด ุฑุง ูโุจูุฏ
- [ ] Admin ููู ุฑุณุชูุฑุงูโูุง ุฑุง ูโุจูุฏ
- [ ] ุฏุณุชูโุจูุฏโูุง ุจุฑุง ูุฑ ุฑุณุชูุฑุงู ุตุญุญ ุงุณุช
- [ ] ูุญุตููุงุช ุฏุฑ ุฏุณุชูโุจูุฏโูุง ุตุญุญ ูุณุชูุฏ
- [ ] ุงุดุชุฑุงฺฉ Owner ูุนุงู ุงุณุช

---

**๐ ุขุฎุฑู ุจุฑูุฒุฑุณุงู:** 2025-10-03  
**๐ ูุณุฎู Seeder:** 1.0  
**๐จโ๐ป ุชูุณุนู:** EazyMenu Team
