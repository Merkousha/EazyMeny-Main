# User Story 09: سفارش آنلاین - فرآیند مشتری

## شناسه: US-009
**اولویت:** بالا | **فاز:** MVP | **تخمین:** 4 روز

---

## شرح User Story

**به عنوان یک** مشتری  
**می‌خواهم** از طریق منوی دیجیتال سفارش غذا دهم  
**تا بتوانم** به‌راحتی و سریع سفارش خود را ثبت کنم.

---

## معیارهای پذیرش

### سناریو 1: مشاهده منو و انتخاب محصول
- اسکن QR Code → هدایت به صفحه منو
- دسته‌بندی‌های منو قابل مشاهده
- کلیک روی محصول → نمایش جزئیات
- انتخاب گزینه‌ها (سایز، افزودنی‌ها)
- انتخاب تعداد
- کلیک "افزودن به سبد"

### سناریو 2: مدیریت سبد خرید
- نمایش Badge تعداد آیتم‌ها
- لیست محصولات انتخابی
- افزایش/کاهش تعداد
- حذف آیتم
- محاسبه جمع کل
- دکمه "تکمیل سفارش"

### سناریو 3: تکمیل اطلاعات سفارش
**فیلدها:**
- نوع دریافت: دلیوری / تحویل حضوری
- نام و شماره تماس
- آدرس (در صورت دلیوری)
- زمان تحویل: فوری / زمان‌بندی شده
- توضیحات اضافی (اختیاری)

### سناریو 4: پرداخت
- انتخاب روش: آنلاین / نقدی
- نمایش خلاصه سفارش
- مبلغ نهایی (شامل هزینه ارسال و مالیات)
- پرداخت آنلاین → زرین‌پال
- پرداخت موفق → کد رهگیری

### سناریو 5: رهگیری سفارش
- نمایش وضعیت Real-time:
  - ✅ سفارش دریافت شد
  - 🔵 در حال آماده‌سازی
  - 🚚 آماده تحویل
  - ✅ تحویل داده شد
- زمان تقریبی آماده‌سازی
- دکمه تماس با رستوران

---

## API Endpoints

```
GET /api/public/menu/{restaurant-slug}
POST /api/orders
GET /api/orders/{id}/track
POST /api/payments/initiate
```

---

## UI/UX

### صفحه منو:
- طراحی Mobile First
- تصاویر بهینه شده
- فیلتر بر اساس دسته
- جستجو
- Badge "پرطرفدار", "تخفیف"

### سبد خرید:
- Bottom Sheet یا Slide-in Panel
- انیمیشن افزودن محصول
- محاسبه خودکار قیمت

### صفحه پرداخت:
- خلاصه واضح
- دکمه‌های بزرگ
- پیشرفت پرداخت (Progress Indicator)

---

## تست‌ها
- [x] مشاهده منو
- [x] افزودن به سبد
- [x] مدیریت سبد
- [x] تکمیل سفارش
- [x] پرداخت موفق/ناموفق
- [x] رهگیری سفارش

---

**وضعیت:** ⬜ در انتظار
