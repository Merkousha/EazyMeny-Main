# User Story 08: تولید و مدیریت QR Code

## شناسه: US-008
**اولویت:** بالا | **فاز:** MVP | **تخمین:** 2 روز

---

## شرح User Story

**به عنوان یک** مدیر رستوران  
**می‌خواهم** QR Code اختصاصی برای رستوران خود داشته باشم  
**تا بتوانم** مشتریان را به‌راحتی به منوی دیجیتال هدایت کنم.

---

## معیارهای پذیرش

### سناریو 1: تولید خودکار QR Code
**Given:** رستوران اشتراک خود را خریداری کرده است  
**When:** به پنل مدیریتی وارد می‌شود  
**Then:**
- QR Code به‌صورت خودکار تولید می‌شود
- لینک: `https://eazymenu.ir/r/{restaurant-slug}`
- QR Code در بخش "QR Code من" قابل مشاهده است

### سناریو 2: دانلود QR Code
- فرمت‌ها: PNG, SVG, PDF
- اندازه‌ها: کوچک (300x300), متوسط (600x600), بزرگ (1200x1200)
- قالب A4 برای چاپ (شامل لوگو و راهنما)

### سناریو 3: سفارشی‌سازی QR Code
- انتخاب رنگ اصلی
- افزودن لوگو در مرکز
- انتخاب استایل (Square, Round, Dots)

### سناریو 4: QR Code برای میزها
- تولید QR Code جداگانه برای هر میز
- لینک: `https://eazymenu.ir/r/{restaurant-slug}?table={table-number}`
- ثبت خودکار شماره میز در سفارش

### سناریو 5: آمار اسکن
- تعداد کل اسکن‌ها
- اسکن‌های روزانه/هفتگی/ماهانه
- نمودار روند اسکن
- نرخ تبدیل اسکن به سفارش

---

## API Endpoints

```
GET /api/qr-codes
POST /api/qr-codes/generate
GET /api/qr-codes/{id}/download?format=png&size=600
GET /api/qr-codes/stats
```

---

## کتابخانه مورد استفاده
- **QRCoder** یا **ZXing.Net**
- ذخیره در `/wwwroot/qrcodes/{restaurant-id}/`
- CDN برای سرعت بالا

---

## تست‌ها
- [x] تولید خودکار
- [x] دانلود فرمت‌های مختلف
- [x] سفارشی‌سازی
- [x] QR Code میزها
- [x] آمارگیری

---

**وضعیت:** ⬜ در انتظار
